<h1>Reviews#new</h1>
<p>Find me in app/views/reviews/new.html.erb</p>
<h2>口コミ投稿</h2>
<%= form_with model: @review, local: true do |f| %>

  <ul>
    <li><%= f.label :school_id, "スクール名" %></li>
    <li><%= f.collection_select(:school_id, School.all, :id, :name, include_blank: '選択してください') %></li>
  </ul>

  <div>
    <%= f.label :name, "口コミ名" %>
    <%= f.text_field :name, placeholder: "口コミ名を入力" %>
  </div>

  <div id="curriculum_star">
    <%= f.label :curriculum_star,'カリキュラム内容' %>
    <%= f.hidden_field :curriculum_star, id: "curriculum-star" %>
  </div>

  <div>
    <%= f.text_area :curriculum %>
  </div>

  <div id="support_star">
    <%= f.label :support_star,'サポート体制' %>
    <%= f.hidden_field :support_star, id: "support-star" %>
  </div>

  <div>
    <%= f.text_area :support %>
  </div>


  <div id="teacher_star">
    <%= f.label :teacher_star,'講師' %>
    <%= f.hidden_field :teacher_star, id: "teacher-star" %>
  </div>

  <div>
    <%= f.text_area :teacher %>
  </div>

  <div id="compatibility_star">
    <%= f.label :compatibility_star,'両立しやすさ' %>
    <%= f.hidden_field :compatibility_star, id: "compatibility-star" %>
  </div>

  <div>
    <%= f.text_area :compatibility %>
  </div>

  <div>
    <%= f.label :thought,'感想/アドバイス' %>
    <%= f.text_area :thought %>
  </div>

  <%= f.hidden_field :user_id, value: current_user.id, id: "user-id"  %>


  <%= f.submit '投稿する', class: "submit-button" %>

  <!-- 評価javascript -->
  <script>
    window.addEventListener('DOMContentLoaded', function(){
      $('#curriculum_star').raty({
        size     : 36,
        starOff:  '<%= asset_path('star-off.png') %>',
        starOn : '<%= asset_path('star-on.png') %>',
        starHalf: '<%= asset_path('star-half.png') %>',

        scoreName: 'review[curriculum_star]',
        half: true,
      });

      $('#support_star').raty({
        size     : 36,
        starOff:  '<%= asset_path('star-off.png') %>',
        starOn : '<%= asset_path('star-on.png') %>',
        starHalf: '<%= asset_path('star-half.png') %>',

        scoreName: 'review[support_star]',
        half: true,
      });

      $('#teacher_star').raty({
        size     : 36,
        starOff:  '<%= asset_path('star-off.png') %>',
        starOn : '<%= asset_path('star-on.png') %>',
        starHalf: '<%= asset_path('star-half.png') %>',

        scoreName: 'review[teacher_star]',
        half: true,
      });

      $('#compatibility_star').raty({
        size     : 36,
        starOff:  '<%= asset_path('star-off.png') %>',
        starOn : '<%= asset_path('star-on.png') %>',
        starHalf: '<%= asset_path('star-half.png') %>',

        scoreName: 'review[compatibility_star]',
        half: true,
      });
    });
  </script>

<% end %>
